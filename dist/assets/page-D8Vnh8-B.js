import{r as i,e as g,j as e,s as N,D as E,__tla as __tla_0}from"./index-TbBtWJuP.js";import{I as T,T as k,a as C,b as L,c,d as v,e as d,__tla as __tla_1}from"./input-YS-ljkSA.js";import{m as h,__tla as __tla_2}from"./proxy-B28zT_gE.js";let A;let __tla=Promise.all([(()=>{try{return __tla_0}catch{}})(),(()=>{try{return __tla_1}catch{}})(),(()=>{try{return __tla_2}catch{}})()]).then(async()=>{A=function(){const[l,u]=i.useState(""),[j,b]=i.useState([]),{db:f}=g(),p=async()=>{const s=new E().namespace("dojo_starter",a=>a.entity("Container",n=>n.gte("status",2))).build();try{await f?.getEntities({query:s,callback:a=>{if(a.error){console.error("resp.error.message:",a.error.message);return}if(a.data){console.log(a.data,"res");const n=a.data?.map(r=>r.models.dojo_starter?.Container.winner),x=[],t={};n.forEach(r=>{t[r]=(t[r]||0)+1}),Object.keys(t).forEach((r,o)=>{x.push({rank:o+1,address:r,wins:t[r]})});const y=x.sort((r,o)=>o.wins-r.wins);b(y)}}})}catch(a){console.error("Error querying entities:",a)}};i.useEffect(()=>{p()},[]);const m=j.filter(s=>s.address.toLowerCase().includes(l.toLowerCase())),w=s=>{switch(s){case 1:return"\uD83E\uDD47";case 2:return"\uD83E\uDD48";case 3:return"\uD83E\uDD49";default:return"\uD83C\uDFC5"}};return e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsx(h.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-4xl font-bold text-center mb-8",children:"\uD83C\uDFC6 Leaderboard \uD83C\uDFC6"}),e.jsx("div",{className:"mb-4",children:e.jsx(T,{type:"text",placeholder:"Search by address",value:l,onChange:s=>u(s.target.value),className:"max-w-sm mx-auto"})}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(k,{children:[e.jsx(C,{children:e.jsxs(L,{children:[e.jsx(c,{className:"w-[100px]",children:"Rank"}),e.jsx(c,{children:"Address"}),e.jsx(c,{className:"text-right",children:"Wins"})]})}),e.jsx(v,{children:m.map((s,a)=>e.jsxs(h.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:a*.1},children:[e.jsxs(d,{className:"font-medium",children:[w(s.rank)," ",s.rank]}),e.jsx(d,{children:N(s.address)}),e.jsxs(d,{className:"text-right",children:[s.wins," ",s.wins>100?"\uD83D\uDD25":""]})]},s.address))})]})}),m.length===0&&e.jsx("p",{className:"text-center mt-4 text-gray-500",children:"No matching entries found"})]})}});export{A as default,__tla};